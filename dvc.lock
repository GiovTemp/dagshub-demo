schema: '2.0'
stages:
  extract:
    cmd: unzip data/Posts.xml.zip -d data
    deps:
    - path: data/Posts.xml.zip
      hash: md5
      md5: ce68b98d82545628782c66192c96f2d2
      size: 10567868
    outs:
    - path: data/Posts.xml
      hash: md5
      md5: a86ca87250ed8e54a9e2e8d6d34c252e
      size: 37916850
  transform:
    cmd: python code/xml_to_tsv.py data/Posts.xml data/Posts.tsv
    deps:
    - path: code/xml_to_tsv.py
      hash: md5
      md5: f491b8b1d164962988473dfac85dead0
      size: 1494
    - path: data/Posts.xml
      hash: md5
      md5: a86ca87250ed8e54a9e2e8d6d34c252e
      size: 37916850
    outs:
    - path: data/Posts.tsv
      hash: md5
      md5: 2910bc798f44dc244424712c8f88e879
      size: 25679203
  split:
    cmd: python code/split_train_test.py 0.15 1234
    deps:
    - path: code/split_train_test.py
      hash: md5
      md5: 456fb27e82a75ef2d22612d6cd9a9f38
      size: 1925
    - path: data/Posts.tsv
      hash: md5
      md5: 2910bc798f44dc244424712c8f88e879
      size: 25679203
    outs:
    - path: data/Posts-test.tsv
      hash: md5
      md5: 6f4a8efb9009afb338d39a7a34236d03
      size: 3749447
    - path: data/Posts-train.tsv
      hash: md5
      md5: c251017bc0a5374263dadfd44d77f421
      size: 22161436
  featurize:
    cmd: python code/featurization.py
    deps:
    - path: code/featurization.py
      hash: md5
      md5: 6879bb6f15aa1230248b5ebf642168aa
      size: 2199
    - path: data/Posts-test.tsv
      hash: md5
      md5: 6f4a8efb9009afb338d39a7a34236d03
      size: 3749447
    - path: data/Posts-train.tsv
      hash: md5
      md5: c251017bc0a5374263dadfd44d77f421
      size: 22161436
    outs:
    - path: data/matrix-test.pkl
      hash: md5
      md5: 0bc152e51c15e6b6a24e4ac2f646eb54
      size: 1696794
    - path: data/matrix-train.pkl
      hash: md5
      md5: 38c0e71ca9ef034438405fe9438bcecc
      size: 9828467
  train:
    cmd: python code/train_model.py 1234
    deps:
    - path: code/train_model.py
      hash: md5
      md5: 45edc9709901672818fc8d4a7caeb5eb
      size: 945
    - path: data/matrix-train.pkl
      hash: md5
      md5: 38c0e71ca9ef034438405fe9438bcecc
      size: 9828467
    outs:
    - path: data/model.pkl
      hash: md5
      md5: b1468cdcc27fa40ef2af0f2c81336bd2
      size: 6595211
  evaluate:
    cmd: python code/evaluate.py
    deps:
    - path: code/evaluate.py
      hash: md5
      md5: ebad9c32588f4be5c6327795e2e839f8
      size: 945
    - path: data/matrix-test.pkl
      hash: md5
      md5: 0bc152e51c15e6b6a24e4ac2f646eb54
      size: 1696794
    - path: data/model.pkl
      hash: md5
      md5: b1468cdcc27fa40ef2af0f2c81336bd2
      size: 6595211
    outs:
    - path: metrics/auc.metric
      hash: md5
      md5: 810aa4d90499ee8f246f594f9641adbc
      size: 15
